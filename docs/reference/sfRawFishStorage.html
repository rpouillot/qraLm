<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Storage of raw fish (whole or fillets) during processing — sfRawFishStorage • qraLm</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Storage of raw fish (whole or fillets) during processing — sfRawFishStorage"><meta name="description" content="The function sfRawFishStorage() simulates the growth of L. monocytogenes in whole fish before any short storage, such as
the holding time before filleting at primary processing, or in fish fillets during holding time before secondary processing; and is based on the
function sfGrowthLPD(). The algorithm is built upon two secondary models: one for lag-phase duration, and the other for growth rate,
both as functions of temperature, taken from @Jia2020;textualqraLm. Log-linear growth is assumed until reaching
the maximum population density MPD. Pert distributions represent the lot-specific variability in holding time and temperature of raw fish."><meta property="og:description" content="The function sfRawFishStorage() simulates the growth of L. monocytogenes in whole fish before any short storage, such as
the holding time before filleting at primary processing, or in fish fillets during holding time before secondary processing; and is based on the
function sfGrowthLPD(). The algorithm is built upon two secondary models: one for lag-phase duration, and the other for growth rate,
both as functions of temperature, taken from @Jia2020;textualqraLm. Log-linear growth is assumed until reaching
the maximum population density MPD. Pert distributions represent the lot-specific variability in holding time and temperature of raw fish."><meta property="og:image" content="https://github.com/WorldHealthOrganization/qraLm/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">qraLm</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="dropdown-item" href="https://github.com/WorldHealthOrganization/qraLm">Version 0.1.1</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/WorldHealthOrganization/qraLm/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Storage of raw fish (whole or fillets) during processing</h1>
      <small class="dont-index">Source: <a href="https://github.com/WorldHealthOrganization/qraLm/blob/HEAD/R/sfRawFishStorage.R"><code>R/sfRawFishStorage.R</code></a></small>
      <div class="d-none name"><code>sfRawFishStorage.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The function <code>sfRawFishStorage()</code> simulates the growth of <em>L. monocytogenes</em> in whole fish before any short storage, such as
the holding time before filleting at primary processing, or in fish fillets during holding time before secondary processing; and is based on the
function <code><a href="sfGrowthLPD.html">sfGrowthLPD()</a></code>. The algorithm is built upon two secondary models: one for lag-phase duration, and the other for growth rate,
both as functions of temperature, taken from @Jia2020;textualqraLm. Log-linear growth is assumed until reaching
the maximum population density <code>MPD</code>. Pert distributions represent the lot-specific variability in holding time and temperature of raw fish.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sfRawFishStorage</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  unitSize <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  nLots <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sizeLot <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  MPD <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">tempMin</span>,</span>
<span>  <span class="va">tempMode</span>,</span>
<span>  <span class="va">tempMax</span>,</span>
<span>  <span class="va">timeMin</span>,</span>
<span>  <span class="va">timeMode</span>,</span>
<span>  <span class="va">timeMax</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>a list of four elements:</p><dl><dt>N</dt>
<dd><p>(CFU) A matrix containing the numbers of <em>L. monocytogenes</em> on whole fish before filleting, from contaminated lots;</p></dd>

<dt>ProbUnitPos</dt>
<dd><p>Probability of individual lots being contaminated (vector);</p></dd>

<dt>P</dt>
<dd><p>Prevalence of contaminated lots (scalar);</p></dd>

<dt>workDone</dt>
<dd><p>The work done by bacteria.</p></dd>


</dl></dd>


<dt id="arg-unitsize">unitSize<a class="anchor" aria-label="anchor" href="#arg-unitsize"></a></dt>
<dd><p>(g) Weight of a fish unit, whole fish or fish fillet (scalar, vector or matrix).</p></dd>


<dt id="arg-nlots">nLots<a class="anchor" aria-label="anchor" href="#arg-nlots"></a></dt>
<dd><p>Number of lots sampled or size of the Monte Carlo simulation (scalar).</p></dd>


<dt id="arg-sizelot">sizeLot<a class="anchor" aria-label="anchor" href="#arg-sizelot"></a></dt>
<dd><p>Number of units or portions produced in a lot (scalar).</p></dd>


<dt id="arg-mpd">MPD<a class="anchor" aria-label="anchor" href="#arg-mpd"></a></dt>
<dd><p>(log10 CFU/g) Maximum population density of <em>L. monocytogenes</em> on/in raw fish (scalar).</p></dd>


<dt id="arg-tempmin">tempMin<a class="anchor" aria-label="anchor" href="#arg-tempmin"></a></dt>
<dd><p>(\(^\circ C\)) Minimum value of the Pert distribution of variability about the holding temperature (scalar).</p></dd>


<dt id="arg-tempmode">tempMode<a class="anchor" aria-label="anchor" href="#arg-tempmode"></a></dt>
<dd><p>(\(^\circ C\)) Mode value of the Pert distribution of variability about the holding temperature (scalar).</p></dd>


<dt id="arg-tempmax">tempMax<a class="anchor" aria-label="anchor" href="#arg-tempmax"></a></dt>
<dd><p>(\(^\circ C\)) Maximum value of the Pert distribution of variability about the holding temperature (scalar).</p></dd>


<dt id="arg-timemin">timeMin<a class="anchor" aria-label="anchor" href="#arg-timemin"></a></dt>
<dd><p>(h) Minimum value of the Pert distribution of variability about the holding time (scalar).</p></dd>


<dt id="arg-timemode">timeMode<a class="anchor" aria-label="anchor" href="#arg-timemode"></a></dt>
<dd><p>(h) Mode value of the Pert distribution of variability about the holding time (scalar).</p></dd>


<dt id="arg-timemax">timeMax<a class="anchor" aria-label="anchor" href="#arg-timemax"></a></dt>
<dd><p>(h) Maximum value of the Pert distribution of variability about the holding time (scalar).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list of four elements:</p><dl><dt>N</dt>
<dd><p>(CFU) A matrix containing the numbers of <em>L. monocytogenes</em> on whole fish after the holding time, from contaminated lots;</p></dd>

<dt>ProbUnitPos</dt>
<dd><p>Probability of individual lots being contaminated (vector);</p></dd>

<dt>P</dt>
<dd><p>Prevalence of contaminated lots (scalar);</p></dd>

<dt>workDone</dt>
<dd><p>Total work done during the previous stages including the current storage stage (vector).</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>The default value of <code>MPD=9.2</code> log10 CFU/g of <em>L. monocytogenes</em> in raw fish was taken from @Jia2020;textualqraLm.
Parameters for the holding time and temperature distributions should be defined by the user an/or tested in scenarios.
In addition to the final <em>L. monocytogenes</em> numbers, the function also returns the lot-specific values of <code>workDone</code> so that the
<em>L. monocytogenes</em> growth could be followed up in subsequent storage stages, if needed.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>mc2dqraLm</p>
<p>Jia2020qraLm</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Ursula Gonzales-Barron <a href="mailto:ubarron@ipb.pt">ubarron@ipb.pt</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">tempMin</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fl">1.5</span></span></span>
<span class="r-in"><span><span class="va">tempMode</span> <span class="op">&lt;-</span> <span class="fl">0.5</span></span></span>
<span class="r-in"><span><span class="va">tempMax</span> <span class="op">&lt;-</span> <span class="fl">3</span></span></span>
<span class="r-in"><span><span class="va">timeMin</span> <span class="op">&lt;-</span> <span class="fl">0.5</span></span></span>
<span class="r-in"><span><span class="va">timeMode</span> <span class="op">&lt;-</span> <span class="fl">2</span></span></span>
<span class="r-in"><span><span class="va">timeMax</span> <span class="op">&lt;-</span> <span class="fl">6</span></span></span>
<span class="r-in"><span><span class="va">MPD</span> <span class="op">&lt;-</span> <span class="fl">9.2</span></span></span>
<span class="r-in"><span><span class="va">nLots</span> <span class="op">&lt;-</span> <span class="fl">1000</span></span></span>
<span class="r-in"><span><span class="va">sizeLot</span> <span class="op">&lt;-</span> <span class="fl">500</span></span></span>
<span class="r-in"><span><span class="va">unitSize</span> <span class="op">&lt;-</span> <span class="fl">1200</span></span></span>
<span class="r-in"><span><span class="co">## No previous storage stage</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  N <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html" class="external-link">rpois</a></span><span class="op">(</span><span class="va">nLots</span> <span class="op">*</span> <span class="va">sizeLot</span>, <span class="fl">23</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="va">nLots</span>,</span></span>
<span class="r-in"><span>    <span class="va">sizeLot</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  ProbUnitPos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.15</span>, <span class="va">nLots</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  P <span class="op">=</span> <span class="fl">0.4</span>,</span></span>
<span class="r-in"><span>  unitSize <span class="op">=</span> <span class="va">unitSize</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">SecProc1</span> <span class="op">&lt;-</span> <span class="fu">sfRawFishStorage</span><span class="op">(</span><span class="va">dat</span>,</span></span>
<span class="r-in"><span>  <span class="va">unitSize</span>,</span></span>
<span class="r-in"><span>  MPD <span class="op">=</span> <span class="va">MPD</span>,</span></span>
<span class="r-in"><span>  tempMin <span class="op">=</span> <span class="va">tempMin</span>,</span></span>
<span class="r-in"><span>  tempMode <span class="op">=</span> <span class="va">tempMode</span>,</span></span>
<span class="r-in"><span>  tempMax <span class="op">=</span> <span class="va">tempMax</span>,</span></span>
<span class="r-in"><span>  timeMin <span class="op">=</span> <span class="va">timeMin</span>,</span></span>
<span class="r-in"><span>  timeMode <span class="op">=</span> <span class="va">timeMode</span>,</span></span>
<span class="r-in"><span>  timeMax <span class="op">=</span> <span class="va">timeMax</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span><span class="va">SecProc1</span><span class="op">$</span><span class="va">N</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="sfRawFishStorage-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co">## Previous storage stage</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  N <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html" class="external-link">rpois</a></span><span class="op">(</span><span class="va">nLots</span> <span class="op">*</span> <span class="va">sizeLot</span>, <span class="fl">23</span><span class="op">)</span>, <span class="va">nLots</span>, <span class="va">sizeLot</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  ProbUnitPos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.15</span>, <span class="va">nLots</span><span class="op">)</span>, workDone <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="va">nLots</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  P <span class="op">=</span> <span class="fl">0.4</span>,</span></span>
<span class="r-in"><span>  unitSize <span class="op">=</span> <span class="va">unitSize</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">SecProc2</span> <span class="op">&lt;-</span> <span class="fu">sfRawFishStorage</span><span class="op">(</span><span class="va">dat</span>,</span></span>
<span class="r-in"><span>  unitSize <span class="op">=</span> <span class="fl">1200</span>,</span></span>
<span class="r-in"><span>  MPD <span class="op">=</span> <span class="va">MPD</span>,</span></span>
<span class="r-in"><span>  tempMin <span class="op">=</span> <span class="va">tempMin</span>,</span></span>
<span class="r-in"><span>  tempMode <span class="op">=</span> <span class="va">tempMode</span>,</span></span>
<span class="r-in"><span>  tempMax <span class="op">=</span> <span class="va">tempMax</span>,</span></span>
<span class="r-in"><span>  timeMin <span class="op">=</span> <span class="va">timeMin</span>,</span></span>
<span class="r-in"><span>  timeMode <span class="op">=</span> <span class="va">timeMode</span>,</span></span>
<span class="r-in"><span>  timeMax <span class="op">=</span> <span class="va">timeMax</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span><span class="va">SecProc2</span><span class="op">$</span><span class="va">N</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="sfRawFishStorage-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://ipb.pt/vcadavez" class="external-link">Vasco Cadavez</a>, <a href="https://scholar.google.com/citations?hl=en&amp;user=dCv0o0wAAAAJ&amp;view_op=list_works&amp;sortby=pubdate/" class="external-link">Régis Pouillot</a>, <a href="https://scholar.google.com/citations?user=R6kR2RgAAAAJ&amp;hl=fr/" class="external-link">Laurent Guillier</a>, <a href="https://ch.linkedin.com/in/sanaamo/en/" class="external-link">Moez Sanaa</a>, <a href="https://ipb.pt/~ubarron/" class="external-link">Ursula Gonzales-Barron</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

